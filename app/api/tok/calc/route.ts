export const runtime="nodejs";type Inp={N:number;complexity:"low"|"mid"|"high";K:number;R:number;A:number};const coeffs:any={low:1.0,mid:1.6,high:2.3};export async function POST(req:Request){const i=await req.json() as Inp;const base=50000;const capex=base*i.N*(coeffs[i.complexity]||1);const opex=0.1*capex+0.02*i.K;const saving=(i.K*i.R*0.3)*(i.A/100);const roi=(12*saving-(capex+12*opex))/(capex+12*opex);const payback=saving<=opex?null:Math.ceil((capex)/(saving-opex));return Response.json({capex,opex,saving,roi,payback,chart:{months:[],cashflow:[],cum:[]}});}